{% extends "@RibsAdmin/base.html.twig" %}
{% form_theme form '@RibsAdmin/forms/template.html.twig' %}

{% block title_page %}
	<h1>{% if user %}Edit {{ user.firstname }} {{ user.lastname }} account{% else %}Create a user{% endif %}</h1>
{% endblock %}

{% block body %}
	<div class="ribs-container-fluid">
		{{ form_start(form) }}
		<div class="top-links">
			<a href="{{ path('ribsadmin_accounts') }}" class="ribs-button danger">Cancel</a>
			{{ form_widget(form.submit) }}
		</div>

		<div class="page-title">
			<span>Account</span>
			<h3>{% if user %}Edit {{ user.firstname }} {{ user.lastname }} account{% else %}Create a user{% endif %}</h3>
		</div>


		<div class="row">
			<div class="cxs-12">
				<div class="block">
					<header>
						<h5>Informations</h5>
					</header>

					<div class="row form-group">
						<div class="cxs-12 cmd-6">
							{{ form_row(form.username) }}
						</div>
						<div class="cxs-12 cmd-6">
							{{ form_row(form.email) }}
						</div>
					</div>
					<div class="row form-group">
						<div class="cxs-12 cmd-6">
							{{ form_row(form.password.first, {'required' : 'create' in app.request.attributes.get("_route") ? 'required' : '' }) }}
						</div>
						<div class="cxs-12 cmd-6">
							{{ form_row(form.password.second, {'required' : 'create' in app.request.attributes.get("_route") ? 'required' : '' }) }}
						</div>
					</div>
					<div class="row form-group">
						<div class="cxs-12 cmd-6">
							{{ form_row(form.user.firstname) }}
						</div>
						<div class="cxs-12 cmd-6">
							{{ form_row(form.user.lastname) }}
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="cxs-12">
				<div class="block">
					<header>
						<h5>Access to administration</h5>
					</header>

					<div class="row form-group">
						<div class="cxs-12 cmd-6">
							{{ form_label(form.user.admin) }}
							{{ form_widget(form.user.admin) }}
						</div>
						<div class="cxs-12 cmd-6">
							{{ form_label(form.user.AccessRightList) }}
							{{ form_widget(form.user.AccessRightList) }}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	{{ form_end(form) }}
{% endblock %}
